from NetworkManagement.Application.AnalyseIP import AnalyseIP
from Shared.Domain.EventBusInterface import EventBusInterface
from Shared.Domain.EventHandler import EventHandler
from Shared.Domain.Events.SubdomainDiscoveredEvent import SubdomainDiscoveredEvent


class IpAddressFoundHandler(EventHandler):

    def __init__(self, event_bus: EventBusInterface, analyse_ips: AnalyseIP):
        self.event_bus = event_bus
        self.analyse_ips = analyse_ips

    def handle(self, event: SubdomainDiscoveredEvent):
        print(f"AnalizeIps: {event.subdomain}")

        self.analyse_ips.execute()
        # for event in events:
        #     self.event_bus.send_event(event)
