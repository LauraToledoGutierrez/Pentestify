from Shared.Infrastructure.Postgres.PostgresConnection import PostgresConnection
from Shared.Domain.WorpressInterface import WordpressInterface


class WordpressRepository(WordpressInterface):
    database_connector: PostgresConnection

    def __init__(self, database_connector: PostgresConnection):
        self.database_connector = database_connector

    def get_info(self):
        rows = self.database_connector.query_all("SELECT entry FROM wordpress")
        print(rows)
        return [dict(entry=row[0]) for row in rows]
